/*
 * MDM_JD_wait_ok.java
 *
 * Created on 17 dicembre 2004, 11.07
 */

/**
 *
 * @author  root
 */
public class MDM_JD_wait extends javax.swing.JDialog implements Runnable{

    /** Creates new form MDM_JD_wait_ok */
    public MDM_JD_wait(String Message, String str_iconName) {
        //super(parent, true);

        initComponents();
        jL_Text.setFont(staticLib.fontA10);
        jL_Text.setText(Message);
        jL_Icon.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/"+str_iconName)));
        this.setResizable(false);
        
        pack();      
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        jL_Icon = new javax.swing.JLabel();
        jL_Text = new javax.swing.JLabel();
        
        setTitle("Wait");
        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setCursor(new java.awt.Cursor(java.awt.Cursor.WAIT_CURSOR));
        setResizable(false);
        setBackground(new java.awt.Color(230, 230, 230));
        jL_Icon.setForeground(java.awt.Color.black);
        jL_Icon.setBackground(new java.awt.Color(230, 230, 230));
        jL_Icon.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jL_Icon.setOpaque(true);
        getContentPane().add(jL_Icon, java.awt.BorderLayout.CENTER);
        
        jL_Text.setForeground(java.awt.Color.black);
        jL_Text.setBackground(new java.awt.Color(230, 230, 230));
        jL_Text.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jL_Text.setPreferredSize(new java.awt.Dimension(30, 20));
        jL_Text.setOpaque(true);
        getContentPane().add(jL_Text, java.awt.BorderLayout.SOUTH);
        
        pack();
    }//GEN-END:initComponents

    public void setMessage(String Message)
    {
        jL_Text.setText(Message);
    }
    public void setIconMessage(String str_iconName)
    {
        jL_Icon.setIcon(new javax.swing.ImageIcon(getClass().getResource("/images/"+str_iconName)));
    }
    
    
    public void setOpenCenteredFrame(int width,int height)
    {
        java.awt.Toolkit kit = java.awt.Toolkit.getDefaultToolkit();
        java.awt.Dimension screenSize = kit.getScreenSize();        
        int screenWCenter = screenSize.width/2;
        int screenHCenter = screenSize.height/2;
        this.setSize(width,height);
        this.setLocation(screenWCenter-(width/2),screenHCenter-(height/2));       
        
        /*TH = null;
        TH_Live = true;
        TH = new Thread(this,"TH MDM_JD_wait");
        TH.start();*/   
	//this.show();
	this.setVisible(true);
    }
    
    public void setClose()
    {
        TH_Live = false;
        this.setVisible(false);
    }
    
    public void run()
    {
        try
        {
            Thread.sleep(400);
        }catch(InterruptedException e)
        {
            System.out.println("ctrl 1 error MDM_JD_wait");
        }
        
        if(TH_Live)
        {
            //this.show();
            this.setVisible(true);
            this.validate();
            jL_Text.validate();            
            this.repaint();
        }
        while(TH_Live)
        {
            try
            {               
                if(!this.isShowing())
                {
    			this.setVisible(true);
			//this.show();
                }
                this.toFront();
                Thread.sleep(300);
            }catch(InterruptedException e)
            {
                System.out.println("ctrl 2 error MDM_JD_wait");
            }
        }
    }
    /** Exit the Application */
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jL_Icon;
    private javax.swing.JLabel jL_Text;
    // End of variables declaration//GEN-END:variables

    
    private boolean TH_Live = false;
    private Thread TH = null;
}
