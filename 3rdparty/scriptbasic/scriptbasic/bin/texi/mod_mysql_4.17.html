<HEAD>
<TITLE>Using the module MySQL: 4.17. InsertId</TITLE>

<META NAME="description" CONTENT="Using the module MySQL: InsertId">
<META NAME="keywords" CONTENT="Using the module MySQL: InsertId">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="t2h.pl">

</HEAD>

<BODY LANG="" BGCOLOR="#C7C1A7" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<FONT FACE="Verdana" Size="2">

<UL><a href="mod_mysql_toc.html">[Contents]</A><BR>
<UL><a href="mod_mysql_4.html">4. Using the module</A><BR>
</UL>
</UL>
<P>
<H1>4.17. InsertId</H1>
<A HREF="mod_mysql_4.16.html">[&lt;&lt;&lt;]</A> <A HREF="mod_mysql_4.18.html">[&gt;&gt;&gt;]</A>
</UL>
<HR>
<P>

<FONT SIZE="3" COLOR="BLUE"><PRE>
n = mysql::InsertId(dbh)
</PRE></FONT>

Returns the ID generated for an <font size="3"><tt>AUTO_INCREMENT</tt></font> column by the previous query. Use this function after you have performed an INSERT query into a table that contains an <font size="3"><tt>AUTO_INCREMENT</tt></font> field.

Note that <font size="3"><tt>mysql::InsertId()</tt></font> returns 0 if the previous query does not generate an <font size="3"><tt>AUTO_INCREMENT</tt></font>value. If you need to save the value for later, be sure to call <font size="3"><tt>mysql::InsertId()</tt></font> immediately after the query that generates the value. 

Also note that the value of the SQL <font size="3"><tt>LAST_INSERT_ID()</tt></font> function always contains the most recently generated <font size="3"><tt>AUTO_INCREMENT</tt></font> value, and is not reset between queries because the value of that function is maintained in the server. 
<HR>
<A HREF="mod_mysql_4.16.html">[&lt;&lt;&lt;]</A> <A HREF="mod_mysql_4.18.html">[&gt;&gt;&gt;]</A>
</FONT>
</BODY>

</HTML>
