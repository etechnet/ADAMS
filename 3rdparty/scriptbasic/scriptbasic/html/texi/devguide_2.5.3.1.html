<HEAD>
<TITLE>ScriptBasic Developers Manual: 2.5.3.1. The structure of the string table</TITLE>

<META NAME="description" CONTENT="ScriptBasic Developers Manual: The structure of the string table">
<META NAME="keywords" CONTENT="ScriptBasic Developers Manual: The structure of the string table">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="t2h.pl">

</HEAD>

<BODY LANG="" BGCOLOR="#C7C1A7" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<FONT FACE="Verdana" Size="2">

<UL><a href="devguide_toc.html">[Contents]</A><BR>
<UL><a href="devguide_2.html">2. Interpreter Architecture</A><BR>
<UL><a href="devguide_2.5.html">2.5. Builder</A><BR>
<UL><a href="devguide_2.5.3.html">2.5.3. Functions implemented in this module</A><BR>
</UL>
</UL>
</UL>
</UL>
<P>
<H1>2.5.3.1. The structure of the string table</H1>
<A HREF="devguide_2.5.3.html">[&lt;&lt;&lt;]</A> <A HREF="devguide_2.5.3.2.html">[&gt;&gt;&gt;]</A>
</UL>
<HR>
<P>

The string table contains all string contansts that are used in the program.
This includes the single and multi line strings as well as symbols. (note that
even the variable name after the keyword <font size="3"><tt>next</tt></font> is ignored but stored in the
string table).
<P>
The strings in the string table are stored one after the other zero character
terminated. Older version of ScriptBasic v1.0b21 and before stored string
constants zero character terminated. Because of this string constants containing
zero character were truncated (note that <font size="3"><tt>\000</tt></font> creates a zero character in a
string constant in ScriptBasic).
<P>
The version v1.0b22 changed the way string constants are stored and the way
string table contains the strings. Each string is stored with its length.
The length is stored as a <font size="3"><tt>long</tt></font> on <font size="3"><tt>sizeof(long)</tt></font> bytes. This is followed by
the string. Whenever the code refers to a string the byte offset of the first
character of the string is stored in the built code. For example the very first
string starts on the 4. byte on 32 bit machines.
<P>
Altough the string length and zero terminating characters are redundant information
both are stored to avoid higher level mistakes causing problem.<HR>
<A HREF="devguide_2.5.3.html">[&lt;&lt;&lt;]</A> <A HREF="devguide_2.5.3.2.html">[&gt;&gt;&gt;]</A>
</FONT>
</BODY>

</HTML>
