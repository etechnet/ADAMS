<HEAD>
<TITLE>ScriptBasic Developers Manual: 2.4.3.7. ex_PushWaitingLabel()</TITLE>

<META NAME="description" CONTENT="ScriptBasic Developers Manual: ex_PushWaitingLabel()">
<META NAME="keywords" CONTENT="ScriptBasic Developers Manual: ex_PushWaitingLabel()">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="t2h.pl">

</HEAD>

<BODY LANG="" BGCOLOR="#C7C1A7" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<FONT FACE="Verdana" Size="2">

<UL><a href="devguide_toc.html">[Contents]</A><BR>
<UL><a href="devguide_2.html">2. Interpreter Architecture</A><BR>
<UL><a href="devguide_2.4.html">2.4. Syntax Analyzer</A><BR>
<UL><a href="devguide_2.4.3.html">2.4.3. Functions implemented in this module</A><BR>
</UL>
</UL>
</UL>
</UL>
<P>
<H1>2.4.3.7. ex_PushWaitingLabel()</H1>
<A HREF="devguide_2.4.3.6.html">[&lt;&lt;&lt;]</A> <A HREF="devguide_2.4.3.8.html">[&gt;&gt;&gt;]</A>
</UL>
<HR>
<P>

This function is used to define a label.
<P>
<FONT SIZE="3" COLOR="BLUE"><PRE>
int ex_PushWaitingLabel(peXobject pEx,
                         pSymbolLABEL pLbl
  )@{
</PRE></FONT>
<P>
When a label is defined the <font size="3"><tt>eNode_l</tt></font> that the label is going to belong still does not exists, and
therefore the <font size="3"><tt>NodeId</tt></font> of that <font size="3"><tt>eNode_l</tt></font> is not known. This function together with <a href="devguide_2.4.3.8.html">ex_PopWaitingLabel()</A>
maintains a stack that can store labels which are currently defined and still need a line to be assigned
to them. These labels all point to the same line. Altough it is very rare that many labels point to
the same line, it is possible. The number of labels that can point the same line is defined by the
constant <font size="3"><tt>MAX_SAME_LABELS</tt></font> defined in <font size="3"><tt>expression.c</tt></font>
<P>
To make it clear see the following BASIC code:
<P>
<FONT SIZE="3" COLOR="BLUE"><PRE>
<P>
this_is_a_label:
REM this is a comment
            PRINT "hello word!!"
<P>
</PRE></FONT>
<P>
The label is defined on the first line of the example. However the label belongs to the
third line containing the statement <font size="3"><tt>PRINT</tt></font>. When the label is processed the compiler does
not know the node number of the code segment which is generated from the third line. Therefore
this function maintains a label-stack to store all labels that need a line. Whenever a line is
compiled so that a label can be assigned to that very line the stack is emptied and all labels waiting on the
stack are assigned to the line just built up. (Or the line is assigned to the labels if you
like the sentence the other way around.)
<P>
Note that not only labels given by a label defining statement are pushed on this stack, but also
labels generated by commands like 'while/wend' of 'if/else/endif'.<HR>
<A HREF="devguide_2.4.3.6.html">[&lt;&lt;&lt;]</A> <A HREF="devguide_2.4.3.8.html">[&gt;&gt;&gt;]</A>
</FONT>
</BODY>

</HTML>
